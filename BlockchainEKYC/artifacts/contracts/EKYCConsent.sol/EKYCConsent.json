{
  "_format": "hh-sol-artifact-1",
  "contractName": "EKYCConsent",
  "sourceName": "contracts/EKYCConsent.sol",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "consentId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "requester",
          "type": "address"
        }
      ],
      "name": "ConsentGranted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "consentId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "ConsentRevoked",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "consents",
      "outputs": [
        {
          "internalType": "address",
          "name": "requester",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "bytes32",
          "name": "dataHash",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "expiryTimestamp",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isRevoked",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "consentId",
          "type": "bytes32"
        }
      ],
      "name": "getConsentDetails",
      "outputs": [
        {
          "internalType": "address",
          "name": "requester",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "bytes32",
          "name": "dataHash",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "expiryTimestamp",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isRevoked",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getUserConsents",
      "outputs": [
        {
          "internalType": "bytes32[]",
          "name": "",
          "type": "bytes32[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "requester",
          "type": "address"
        },
        {
          "internalType": "bytes32",
          "name": "dataHash",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "validityPeriod",
          "type": "uint256"
        }
      ],
      "name": "grantConsent",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "consentId",
          "type": "bytes32"
        }
      ],
      "name": "isConsentValid",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "consentId",
          "type": "bytes32"
        }
      ],
      "name": "revokeConsent",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "userConsents",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b506106bc806100206000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c80633e3ace6d1161005b5780633e3ace6d14610140578063b3d8ccbd14610153578063bd2a50461461019f578063c8726626146101bf57600080fd5b806307a0315d1461008257806310683f1c1461009757806318737dd3146100bd575b600080fd5b61009561009036600461056e565b6101e2565b005b6100aa6100a53660046105a3565b6102de565b6040519081526020015b60405180910390f35b61010b6100cb36600461056e565b600090815260208190526040902080546001820154600283015460038401546004909401546001600160a01b039384169593909216939092909160ff1690565b604080516001600160a01b0396871681529590941660208601529284019190915260608301521515608082015260a0016100b4565b6100aa61014e3660046105d6565b61048c565b61010b61016136600461056e565b600060208190529081526040902080546001820154600283015460038401546004909401546001600160a01b03938416949390921692909160ff1685565b6101b26101ad366004610600565b6104bd565b6040516100b4919061061b565b6101d26101cd36600461056e565b610529565b60405190151581526020016100b4565b600081815260208190526040902060018101546001600160a01b031633146102495760405162461bcd60e51b81526020600482015260156024820152742737ba103a34329031b7b739b2b73a1037bbb732b960591b60448201526064015b60405180910390fd5b600481015460ff161561029e5760405162461bcd60e51b815260206004820152601760248201527f436f6e73656e7420616c7265616479207265766f6b65640000000000000000006044820152606401610240565b60048101805460ff19166001179055604051339083907f3e0efaa01c6564bd2b44271408ee50f33954c939781c9f86a2e12eccf1371da490600090a35050565b60006001600160a01b0384166103365760405162461bcd60e51b815260206004820152601960248201527f496e76616c6964207265717565737465722061646472657373000000000000006044820152606401610240565b6040516bffffffffffffffffffffffff1933606090811b8216602084015286901b166034820152604881018490524260688201526000906088016040516020818303038152906040528051906020012090506040518060a00160405280866001600160a01b03168152602001336001600160a01b0316815260200185815260200184426103c3919061065f565b8152600060209182018190528381528082526040808220845181546001600160a01b03199081166001600160a01b03928316178355868601516001808501805490931691841691909117909155868401516002840155606087015160038401556080909601516004909201805460ff19169215159290921790915533808452858552828420805496870181558452938320909401859055519288169284917fba073cf0988e20a0b3c23b09686bf8f21b4d5662b31cf9738dc328f68776efc591a4949350505050565b600160205281600052604060002081815481106104a857600080fd5b90600052602060002001600091509150505481565b6001600160a01b03811660009081526001602090815260409182902080548351818402810184019094528084526060939283018282801561051d57602002820191906000526020600020905b815481526020019060010190808311610509575b50505050509050919050565b600081815260208190526040812060018101546001600160a01b0316158015906105585750600481015460ff16155b80156105675750428160030154115b9392505050565b60006020828403121561058057600080fd5b5035919050565b80356001600160a01b038116811461059e57600080fd5b919050565b6000806000606084860312156105b857600080fd5b6105c184610587565b95602085013595506040909401359392505050565b600080604083850312156105e957600080fd5b6105f283610587565b946020939093013593505050565b60006020828403121561061257600080fd5b61056782610587565b6020808252825182820181905260009190848201906040850190845b8181101561065357835183529284019291840191600101610637565b50909695505050505050565b8082018082111561068057634e487b7160e01b600052601160045260246000fd5b9291505056fea2646970667358221220cade66b2f423a9eb0301c31c1f603e8782f6e136d1b9f37a9d724d2e7b22ab3464736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061007d5760003560e01c80633e3ace6d1161005b5780633e3ace6d14610140578063b3d8ccbd14610153578063bd2a50461461019f578063c8726626146101bf57600080fd5b806307a0315d1461008257806310683f1c1461009757806318737dd3146100bd575b600080fd5b61009561009036600461056e565b6101e2565b005b6100aa6100a53660046105a3565b6102de565b6040519081526020015b60405180910390f35b61010b6100cb36600461056e565b600090815260208190526040902080546001820154600283015460038401546004909401546001600160a01b039384169593909216939092909160ff1690565b604080516001600160a01b0396871681529590941660208601529284019190915260608301521515608082015260a0016100b4565b6100aa61014e3660046105d6565b61048c565b61010b61016136600461056e565b600060208190529081526040902080546001820154600283015460038401546004909401546001600160a01b03938416949390921692909160ff1685565b6101b26101ad366004610600565b6104bd565b6040516100b4919061061b565b6101d26101cd36600461056e565b610529565b60405190151581526020016100b4565b600081815260208190526040902060018101546001600160a01b031633146102495760405162461bcd60e51b81526020600482015260156024820152742737ba103a34329031b7b739b2b73a1037bbb732b960591b60448201526064015b60405180910390fd5b600481015460ff161561029e5760405162461bcd60e51b815260206004820152601760248201527f436f6e73656e7420616c7265616479207265766f6b65640000000000000000006044820152606401610240565b60048101805460ff19166001179055604051339083907f3e0efaa01c6564bd2b44271408ee50f33954c939781c9f86a2e12eccf1371da490600090a35050565b60006001600160a01b0384166103365760405162461bcd60e51b815260206004820152601960248201527f496e76616c6964207265717565737465722061646472657373000000000000006044820152606401610240565b6040516bffffffffffffffffffffffff1933606090811b8216602084015286901b166034820152604881018490524260688201526000906088016040516020818303038152906040528051906020012090506040518060a00160405280866001600160a01b03168152602001336001600160a01b0316815260200185815260200184426103c3919061065f565b8152600060209182018190528381528082526040808220845181546001600160a01b03199081166001600160a01b03928316178355868601516001808501805490931691841691909117909155868401516002840155606087015160038401556080909601516004909201805460ff19169215159290921790915533808452858552828420805496870181558452938320909401859055519288169284917fba073cf0988e20a0b3c23b09686bf8f21b4d5662b31cf9738dc328f68776efc591a4949350505050565b600160205281600052604060002081815481106104a857600080fd5b90600052602060002001600091509150505481565b6001600160a01b03811660009081526001602090815260409182902080548351818402810184019094528084526060939283018282801561051d57602002820191906000526020600020905b815481526020019060010190808311610509575b50505050509050919050565b600081815260208190526040812060018101546001600160a01b0316158015906105585750600481015460ff16155b80156105675750428160030154115b9392505050565b60006020828403121561058057600080fd5b5035919050565b80356001600160a01b038116811461059e57600080fd5b919050565b6000806000606084860312156105b857600080fd5b6105c184610587565b95602085013595506040909401359392505050565b600080604083850312156105e957600080fd5b6105f283610587565b946020939093013593505050565b60006020828403121561061257600080fd5b61056782610587565b6020808252825182820181905260009190848201906040850190845b8181101561065357835183529284019291840191600101610637565b50909695505050505050565b8082018082111561068057634e487b7160e01b600052601160045260246000fd5b9291505056fea2646970667358221220cade66b2f423a9eb0301c31c1f603e8782f6e136d1b9f37a9d724d2e7b22ab3464736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
